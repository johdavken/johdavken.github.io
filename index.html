<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ResinIQ</title>
  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

  <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="theme.css">
<script src="app.js?v=2026-01-07-7" defer></script>


</head>

<body data-density="comfort">
<main>

  <header class="site-header">


<svg xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 1280 240"
     role="img"
     aria-label="ResinIQ"
     preserveAspectRatio="xMidYMid meet">

  <style>
    /* --- Wordmark: match the "resinIQ" style you showed --- */
    .resinWord{
      /* italic serif vibe (falls back gracefully) */
      font-family: "Merriweather","Georgia","Times New Roman",Times,serif;
      font-style: italic;
      font-weight: 800;
      letter-spacing: -0.02em;
      fill: var(--fg, #fe8019);
    }
    .iWord{
      font-family:"Inter","IBM Plex Sans","Segoe UI","Roboto","Helvetica Neue",Arial,sans-serif;
      font-weight:950;
      fill: var(--yellow, #bfbfbf);

}

    .qWord{
      font-family:"Inter","IBM Plex Sans","Segoe UI","Roboto","Helvetica Neue",Arial,sans-serif;
      font-weight:950;
      fill: var(--yellow, #8c8c8c);

}


    /* subtle depth without screaming */
    .wm-outline{
      paint-order: stroke fill;
      stroke: var(--bg, #0b0f14);
      stroke-width: 10;
      stroke-linejoin: round;
      opacity: 0.45;
    }
    .wm-edge{
      paint-order: stroke fill;
      stroke: var(--orange, #fe8019);
      stroke-width: 2;
      stroke-linejoin: round;
      opacity: 0.18;
    }

    .accent-line{
      stroke: var(--orange, #fe8019);
      stroke-width: 6;
      stroke-linecap: round;
      opacity: 0.85;
    }

    /* PR2000-ish profile plot */
    .plot-frame{
      fill: rgba(0,0,0,0);
      stroke: var(--fg, #ebdbb2);
      stroke-width: 2;
      opacity: 0.18;
    }
    .grid-major{
      stroke: var(--fg, #ebdbb2);
      stroke-width: 1.5;
      opacity: 0.10;
      shape-rendering: crispEdges;
      stroke-dasharray: 6 6;
    }
    .grid-minor{
      stroke: var(--fg, #ebdbb2);
      stroke-width: 1;
      opacity: 0.06;
      shape-rendering: crispEdges;
      stroke-dasharray: 3 7;
    }
    .target{
      stroke: var(--red, #fb4934);
      stroke-width: 2;
      opacity: 0.22;
      shape-rendering: crispEdges;
    }
    .midline{
      stroke: var(--fg, #ebdbb2);
      stroke-width: 2;
      opacity: 0.14;
      shape-rendering: crispEdges;
    }
    .trace{
      fill: none;
      stroke: var(--blue, #83a598);
      stroke-width: 2.5;
      opacity: 0.30;
      stroke-linejoin: round;
      stroke-linecap: round;
    }
    .trace-glow{
      fill: none;
      stroke: var(--blue, #83a598);
      stroke-width: 6;
      opacity: 0.07;
      stroke-linejoin: round;
      stroke-linecap: round;
    }
    .plot-label{
      font-family:"Inter","IBM Plex Sans","Segoe UI","Roboto","Helvetica Neue",Arial,sans-serif;
      font-size: 12px;
      fill: var(--fg, #ebdbb2);
      opacity: 0.20;
      letter-spacing: 0.02em;
    }
  </style>

  <defs>
    <clipPath id="plotClip">
      <rect x="80" y="132" width="1120" height="84" rx="6" ry="6"/>
    </clipPath>

    <!-- soft shadow for the whole mark -->
    <filter id="wmShadow" x="-20%" y="-40%" width="140%" height="180%">
      <feDropShadow dx="0" dy="6" stdDeviation="6"
                    flood-color="var(--bg, #0b0f14)" flood-opacity="0.35"/>
    </filter>
  </defs>

  <!-- ===== Background: PR2000-style profile plot window ===== -->
  <g>
    <rect class="plot-frame" x="80" y="132" width="1120" height="84" rx="6" ry="6"/>

    <g clip-path="url(#plotClip)">
      <g class="grid-minor">
        <line x1="140" y1="132" x2="140" y2="216"/>
        <line x1="200" y1="132" x2="200" y2="216"/>
        <line x1="260" y1="132" x2="260" y2="216"/>
        <line x1="320" y1="132" x2="320" y2="216"/>
        <line x1="380" y1="132" x2="380" y2="216"/>
        <line x1="440" y1="132" x2="440" y2="216"/>
        <line x1="500" y1="132" x2="500" y2="216"/>
        <line x1="560" y1="132" x2="560" y2="216"/>
        <line x1="620" y1="132" x2="620" y2="216"/>
        <line x1="680" y1="132" x2="680" y2="216"/>
        <line x1="740" y1="132" x2="740" y2="216"/>
        <line x1="800" y1="132" x2="800" y2="216"/>
        <line x1="860" y1="132" x2="860" y2="216"/>
        <line x1="920" y1="132" x2="920" y2="216"/>
        <line x1="980" y1="132" x2="980" y2="216"/>
        <line x1="1040" y1="132" x2="1040" y2="216"/>
        <line x1="1100" y1="132" x2="1100" y2="216"/>
        <line x1="1160" y1="132" x2="1160" y2="216"/>
      </g>

      <g class="grid-major">
        <line x1="80" y1="132" x2="80" y2="216"/>
        <line x1="320" y1="132" x2="320" y2="216"/>
        <line x1="560" y1="132" x2="560" y2="216"/>
        <line x1="800" y1="132" x2="800" y2="216"/>
        <line x1="1040" y1="132" x2="1040" y2="216"/>
        <line x1="1200" y1="132" x2="1200" y2="216"/>
      </g>

      <g class="grid-minor">
        <line x1="80" y1="148" x2="1200" y2="148"/>
        <line x1="80" y1="164" x2="1200" y2="164"/>
        <line x1="80" y1="180" x2="1200" y2="180"/>
        <line x1="80" y1="196" x2="1200" y2="196"/>
      </g>

      <line class="target" x1="80" y1="156" x2="1200" y2="156"/>
      <line class="target" x1="80" y1="204" x2="1200" y2="204"/>
      <line class="midline" x1="80" y1="180" x2="1200" y2="180"/>

      <path class="trace-glow"
            d="M90 182
               L120 176 L150 188 L180 170 L210 178 L240 172
               L270 196 L300 184 L330 162 L360 168 L390 158
               L420 190 L450 202 L480 186 L510 172 L540 150
               L570 160 L600 188 L630 178 L660 166 L690 184
               L720 174 L750 190 L780 198 L810 176 L840 170
               L870 162 L900 186 L930 194 L960 178 L990 168
               L1020 204 L1050 210 L1080 186 L1110 170
               L1140 180 L1170 164 L1200 154"/>

      <path class="trace"
            d="M90 182
               L120 176 L150 188 L180 170 L210 178 L240 172
               L270 196 L300 184 L330 162 L360 168 L390 158
               L420 190 L450 202 L480 186 L510 172 L540 150
               L570 160 L600 188 L630 178 L660 166 L690 184
               L720 174 L750 190 L780 198 L810 176 L840 170
               L870 162 L900 186 L930 194 L960 178 L990 168
               L1020 204 L1050 210 L1080 186 L1110 170
               L1140 180 L1170 164 L1200 154"/>
    </g>

    <text class="plot-label" x="92" y="228">inches</text>
    <text class="plot-label" x="1180" y="228" text-anchor="end">mils</text>
  </g>

  <!-- ===== Foreground wordmark (new style) ===== -->
  <g transform="translate(640 112)" text-anchor="middle" filter="url(#wmShadow)">
    <!-- Outline underlay (helps legibility over the plot) -->
    <text class="wm-outline" font-size="176" dominant-baseline="central">
      <tspan class="resinWord">resin</tspan><tspan class="iWord">I</tspan><tspan class="qWord">Q</tspan>

    </text>

    <!-- Thin edge stroke (subtle polish) -->
    <text class="wm-edge" font-size="176" dominant-baseline="central">
      <tspan class="resinWord">resin</tspan><tspan class="iWord">I</tspan><tspan class="qWord">Q</tspan>

    </text>

    <!-- Fill -->
    <text font-size="176" dominant-baseline="central">
      <tspan class="resinWord">resin</tspan><tspan class="iWord">I</tspan><tspan class="qWord">Q</tspan>

    </text>
  </g>


</svg>




  </header>

  <!-- 1) LINE SETUP -->
  <details class="block card" id="lineSetupBlock">
    <summary>
      <div class="sumLeft">
        <div class="chev"></div>
        <div style="min-width:0">
          <div class="layerTitle">Setup</div>
          <div class="layerMeta">Line Setup and App Settings</div>
        </div>
      </div>
      <span class="pill">Setup</span>
    </summary>

    <div class="blockBody">
      <div class="grid3">
        <div>
          <label for="lineRate">Line rate (lb/hr)</label>
          <input id="lineRate" type="text" inputmode="decimal" placeholder="0" value="0" />
          <div class="tiny">Example: 1200</div>
        </div>

        <div>
          <label for="gauge">Gauge (mil)</label>
          <input id="gauge" type="text" inputmode="decimal" placeholder="0" value="0" />
          <div class="tiny">Only necessary if you need layer thickness.</div>
        </div>

        <div>
          <label for="lineType">Line type</label>
          <select id="lineType">
            <option value="1">1-layer</option>
            <option value="3" selected>3-layer</option>
            <option value="5">5-layer</option>
          </select>
        </div>
      </div>

      <div class="grid3 mt10">
        <div>
          <label for="changeoverTime">Changeover time (deadline)</label>
          <input id="changeoverTime" type="time" />
        </div>

        <div>
          <label for="densitySel">View</label>
          <select id="densitySel">
            <option value="comfort" selected>Comfort</option>
            <option value="compact">Compact</option>
            <option value="dense">Dense</option>
          </select>
        </div>

        <div>
          <label for="themeSel">Theme</label>
          <select id="themeSel">
                        <option value="dark" selected>Dark</option>
            <option value="light">Light</option>
            <option value="gruvbox-dark">Gruvbox Dark</option>
            <option value="gruvbox-light">Gruvbox Light</option>
            <option value="nord">Nord</option>
            <option value="tokyo-night">Tokyo Night</option>
            <option value="dracula">Dracula</option>
            <option value="solarized-dark">Solarized Dark</option>
            <option value="solarized-light">Solarized Light</option>
            <option value="catppuccin-mocha">Catppuccin Mocha</option>
            <option value="catppuccin-latte">Catppuccin Latte</option>
            <option value="amber">Amber</option>
            <option value="high-contrast">High Contrast</option>
            <option value="mono">Monochrome</option>
          </select>
        </div>
      </div>


      <!-- Hopper naming (Line 9) -->
      <div class="grid3 mt10" id="hopperNamingRow">
        <div>
          <label for="hopperNamingToggle"></label>

          <div class="setupToggleRow">
            <div class="setupToggleText">
              <div class="setupToggleTitle">Line 9 Hopper Naming</div>
              <div class="setupToggleMeta tiny">Off = 1–6 / On = Main, 1-5</div>
            </div>

            <div class="trackWrap" style="justify-content:flex-start">
              <span class="trackLabel">off/on</span>
              <div id="hopperNamingToggle" class="toggle" role="switch" aria-checked="false" tabindex="0" title="Toggle Line 9 hopper naming"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Nested: weights -->
      <details class="block" id="weightsBlock">
        <summary>
          <div class="sumLeft">
            <div class="chev"></div>
            <div style="min-width:0">
              <div class="layerTitle" style="font-size:13px">Hopper weights</div>
              <div class="layerMeta">Amount of resin stored in receiver hopper</div>
            </div>
          </div>
          <span class="pill">Weights</span>
        </summary>

        <div class="blockBody">
          <div class="muted">
            Hoppers hold volume, not weight. So this is a bit of guesswork. A bucket of silo resin typically weighs 25lbs for reference.
          </div>
          <div id="weightsArea" class="weightsGrid mt10"></div>
        </div>
      </details>

      <!-- Nested: offsets -->
      <details class="block" id="offsetsBlock">
        <summary>
          <div class="sumLeft">
            <div class="chev"></div>
            <div style="min-width:0">
              <div class="layerTitle" style="font-size:13px">Offsets</div>
              <div class="layerMeta">Downcomer offset minutes</div>
            </div>
          </div>
          <span class="pill">Offsets</span>
        </summary>

        <div class="blockBody">
          <div class="muted">Adds time for downcomer run-down.</div>
          <div id="offsetInputs" class="gridAuto mt10"></div>
        </div>
      </details>

      <div id="statusBox"></div>
    </div>
  </details>

  <!-- 2) HOPPER PERCENTAGES -->
  <details class="block card" id="splitsBlock">
    <summary>
      <div class="sumLeft">
        <div class="chev"></div>
        <div style="min-width:0">
          <div class="layerTitle">Hopper Percentages</div>
          <div class="layerMeta">Set layer and hopper % - Toggle Tracking</div>
        </div>
      </div>
      <span class="pill">Percentages</span>
    </summary>

    <div class="blockBody">
      <div class="muted">Resin name only assists with resin totals. If B and D, or A and E layers are the same, you can copy from one to the other.</div>
      <div id="splitsArea" class="mt10 gap10"></div>
    </div>
  </details>

  <!-- 3) RESULTS -->
  <details class="block card" id="resultsBlock" open>
    <summary>
      <div class="sumLeft">
        <div class="chev"></div>
        <div style="min-width:0">
          <div class="layerTitle">Run-Down Timeline</div>
          <div class="layerMeta">Only tracked hoppers • Sorted by upcoming time</div>
        </div>
      </div>
      <span class="pill">Live</span>
    </summary>

    <div class="blockBody">
      <div class="muted">Sorted by upcoming time (Start by if changeover is set; otherwise Time to empty).</div>
       <div class="trackWrap" style="justify-content:flex-start">
          <span class="trackLabel">Show all</span>
          <div id="showPumpOffToggle" class="toggle" role="switch" aria-checked="false" tabindex="0" title="Toggle showing pump-off hoppers in the timeline"></div>
        </div>
      <div id="resultsArea" class="resultGrid mt10"></div>

    </div>
  </details>

  <!-- 4) RESIN TOTALS -->
  <details class="block card" id="resinCalcBlock">
    <summary>
      <div class="sumLeft">
        <div class="chev"></div>
        <div style="min-width:0">
          <div class="layerTitle">Used Resin Totals</div>
          <div class="layerMeta">Totals by resin name</div>
        </div>
      </div>
      <span class="pill">Calc</span>
    </summary>

    <div class="blockBody">
      <div class="muted">Enter total pounds used at end of job.</div>

      <div class="grid2 mt10">
        <div>
          <label for="prodResinLb">Production Resin (lb)</label>
          <input id="prodResinLb" type="text" inputmode="decimal" placeholder="0" value="0" />
        </div>
        <div>
          <label for="scrapResinLb">Scrap Resin (lb)</label>
          <input id="scrapResinLb" type="text" inputmode="decimal" placeholder="0" value="0" />
        </div>
      </div>

      <div id="resinCalcSummary" class="mt10"></div>
      <div id="resinCalcResults" class="calcTable"></div>
    </div>
  </details>

  <!-- 5) RECIPES -->
  <details class="block card" id="recipesBlock">
    <summary>
      <div class="sumLeft">
        <div class="chev"></div>
        <div style="min-width:0">
          <div class="layerTitle">Line Configurations</div>
          <div class="layerMeta">Save • load • export • import</div>
        </div>
      </div>
      <span class="pill">Configs</span>
    </summary>

    <div class="blockBody">
      <div class="muted">Save/load typical setups. Export/import JSON for sharing.</div>

      <div class="grid2 mt10">
        <div>
          <label for="configName">Config name</label>
          <input id="configName" type="text" placeholder="e.g. Line 9 typical" />
        </div>
        <div>
          <label for="savedConfigs">Saved configs</label>
          <select id="savedConfigs"></select>
        </div>
      </div>

      <div class="grid2 mt10">
        <button id="saveConfigBtn" type="button">Save / Update config</button>
        <button id="loadConfigBtn" type="button" class="secondary">Load selected config</button>
      </div>

      <div class="grid2 mt10">
        <button id="renameConfigBtn" type="button" class="secondary">Rename selected</button>
        <button id="deleteConfigBtn" type="button" class="danger">Delete selected</button>
      </div>

      <div class="hr"></div>

      <div class="grid2">
        <button id="exportConfigBtn" type="button" class="secondary">Export selected (copy JSON)</button>
        <button id="importConfigBtn" type="button" class="secondary">Import JSON (paste)</button>
      </div>

      <div id="importArea" class="hide mt10">
        <label for="importJson">Paste JSON here</label>
        <textarea id="importJson" placeholder='{"name":"Line 9 typical","payload":{...}}'></textarea>
        <div class="grid2 mt10">
          <button id="doImportBtn" type="button">Import now</button>
          <button id="cancelImportBtn" type="button" class="secondary">Cancel</button>
        </div>
      </div>

      <div id="recipeStatus" class="mt10"></div>
    </div>
  </details>

  <!-- 6) INFO -->
  <details class="block card" id="infoBlock">
    <summary>
      <div class="sumLeft">
        <div class="chev"></div>
        <div style="min-width:0">
          <div class="layerTitle">Documentation</div>
          <div class="layerMeta">Formulas • changelog • notes</div>
        </div>
      </div>
      <span class="pill">Help</span>
    </summary>
<div class="docIntro">
  <a href="https://github.com/johdavken/resintimer/releases/tag/v01.09"
     target="_blank"
     rel="noopener"
     class="btn btn-primary">
    Download Android APK
  </a>
</div>

    <div class="blockBody">
      <!-- 6.1 Operator formulas -->
      <details class="block" id="formulasBlock">
        <summary>
          <div class="sumLeft">
            <div class="chev"></div>
            <div style="min-width:0">
              <div class="layerTitle" style="font-size:13px">Operator formulas</div>
              <div class="layerMeta">Figure lb/k or short roll footage.</div>
            </div>
          </div>
          <span class="pill">Math</span>
        </summary>

        <div class="blockBody">
          <div class="muted">Common formulas used.</div>

          <div class="hr"></div>

          <div class="mono" style="line-height:1.7; font-size: var(--font-small);">
            <div class="formulaGroup">
              <div class="mono formula-line">
                <span class="f-label">• Line output (lb/hr)</span>
                =
                <span class="f-var1">Width</span>
                ×
                <span class="f-var2">Line Speed</span>
                ×
                <span class="f-var3">Gauge</span>
                ×
                <span class="f-const">0.048</span>
              </div>

              <div class="mono formula-line">
                <span class="f-label">• Pounds per Thousandths (Width Based)</span>
                =
                <span class="f-var1">Width</span>
                ×
                <span class="f-var3">Gauge</span>
                ×
                <span class="f-const">0.8</span>
              </div>

              <div class="mono formula-line">
                <span class="f-label">• Pounds per Thousandths (Roll Based)</span>
                =
                <span class="f-var1">Max roll weight</span>
                ×
                <span class="f-var2">Number of rolls</span>
                ÷
                <span class="f-var3">Thousands of feet</span>
              </div>

              <div class="mono formula-line">
                <span class="f-label">• Short roll footage</span>
                =
                <span class="f-var1">Short roll weight</span>
                ×
                <span class="f-var3">Target footage</span>
                ÷
                <span class="f-var2">Last good roll weight</span>
              </div>

              <div class="mono formula-line">
                <span class="f-label">• Weight adjustment (new line speed)</span>
                =
                <span class="f-var1">Wrong weight</span>
                ×
                <span class="f-var2">Line speed</span>
                ÷
                <span class="f-var3">Target weight</span>
              </div>

              <div class="mono formula-line">
                <span class="f-label">• Line speed</span>
                =
                <span class="f-var1">Line Output (lb/hr)</span>
                ÷
                <span class="f-var2">(Width</span>
                ×
                <span class="f-var3">Gauge</span>
                ×
                <span class="f-var1">0.048)</span>
              </div>
            </div>
          </div>

          <div class="tiny">...</div>
        </div>
      </details>

      <!-- 6.2 Changelog -->
      <details class="block" id="changelogBlock">
        <summary>
          <div class="sumLeft">
            <div class="chev"></div>
            <div style="min-width:0">
              <div class="layerTitle" style="font-size:13px">Changelog</div>
              <div class="layerMeta">What changed between versions</div>
            </div>
          </div>
          <span class="pill">Log</span>
        </summary>

        <div class="blockBody">
          <div class="muted">What's new.</div>
          <div class="hr"></div>

          <div class="mono" style="line-height:1.7; font-size: var(--font-small);">
            <div><strong>0.15</strong> — Line 9 hopper naming toggle added to Setup. Timeline now has a show all toggle to see pumps that have been turned off. </div>
            <div><strong>0.14</strong> — Updated logo and made several variations for themes. Probably still a placeholder.</div>
            <div><strong>0.13</strong> — Enhanced the footer bar to reflect soonest tracked hopper.</div>
            <div><strong>0.12</strong> — Lots of tweaks to theme settings, GruvboxDark is extra robust.</div>
            <div><strong>0.11</strong> — Layer cards now display thickness. Must set gauge in Setup.</div>
            <div><strong>0.10</strong> — Added more themes (Nord, Tokyo Night, Dracula, Solarized, Catppuccin, Amber, High Contrast, Mono).</div>
            <div><strong>0.09</strong> — Light and dark themes added to setup.</div>
            <div><strong>0.08</strong> — Added ability to name resins in each hopper.</div>
            <div><strong>0.07</strong> — Added resin calculator. Uses resin names.</div>
            <div><strong>0.06</strong> — Added formulas under new Info section.</div>
          </div>

          <div class="tiny"></div>
        </div>
      </details>

      <!-- 6.3 Notes -->
      <details class="block" id="notesBlock">
        <summary>
          <div class="sumLeft">
            <div class="chev"></div>
            <div style="min-width:0">
              <div class="layerTitle" style="font-size:13px">Notes</div>
              <div class="layerMeta">Tips about this tool</div>
            </div>
          </div>
          <span class="pill">Notes</span>
        </summary>

        <div class="blockBody">
          <div class="muted">Practical.</div>
          <div class="hr"></div>

          <div class="mono" style="line-height:1.7; font-size: var(--font-small);">
            <div>• While mostly intuitive, to get the most use out of this tool you have to know its limitations. It's entirely on the operator or assistant to enter the correct weights, offsets, and percentages.</div>
            <div></div>
            <div></div>
          </div>

          <div class="tiny">..</div>
        </div>
      </details>
    </div>
  </details>

</main>

<footer class="footerBar">
  <div id="footerMsg" class="footerMsg">—</div>
  <div id="footerSub" class="footerSub">—</div>
</footer>
</body>
</html>
